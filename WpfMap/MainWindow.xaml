<Window x:Class="WpfMap.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfMap"
        mc:Ignorable="d"
        Loaded="Window_Loaded" PreviewKeyDown="drawViewScroll_PreviewKeyDown"
                          PreviewKeyUp="drawViewScroll_PreviewKeyUp"
        Title="MainWindow" 
        WindowState="Maximized"
        >
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="43*"/>
            <RowDefinition Height="70*"/>
            <RowDefinition Height="340*"/>
            <RowDefinition Height="51*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="107*"/>
            <ColumnDefinition Width="613*"/>
            <ColumnDefinition Width="72*"/>
        </Grid.ColumnDefinitions>
        <!--绘图区-->
        <Border  Grid.Column="1" Grid.Row="1"  BorderBrush="DarkCyan"  BorderThickness="1" Grid.RowSpan="2"/>
        <ScrollViewer Grid.Column="1" Grid.Row="1" x:Name="drawViewScroll" VerticalScrollBarVisibility="Disabled"
                          PreviewMouseWheel="image_PreviewMouseWheel" 
                          PreviewMouseRightButtonDown="imageRobot_PreviewMouseRightButtonDown" 
                          PreviewMouseMove="imageRobot_PreviewMouseMove"
                          PreviewMouseRightButtonUp="imageRobot_PreviewMouseRightButtonUp"
                          PreviewMouseLeftButtonDown="imageRobot_PreviewMouseLeftButtonDown" 
                          PreviewMouseLeftButtonUp="imageRobot_PreviewMouseLeftButtonUp" Grid.RowSpan="2"
                          >
            <Grid  x:Name="gridDraw">
                <Grid.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform x:Name="sfr"/>
                        <TranslateTransform x:Name="tlt"/>
                    </TransformGroup>
                </Grid.RenderTransform>
                <Canvas x:Name="cvGrid"></Canvas>
                <Canvas x:Name="cvMap"></Canvas>
            </Grid>
        </ScrollViewer>
        <!--状态栏-->
        <Border Grid.Row="3" Grid.Column="1" BorderThickness="0,2,0,0">
            <StackPanel Name="bottomstackPanel" Orientation="Horizontal">
                <Label Content="缩放:" VerticalAlignment="Center"/>
                <Label Content="{Binding Scale}" VerticalAlignment="Center"/>
                <Label Content="平移:" VerticalAlignment="Center"/>
                <Label Content="{Binding Origin}" VerticalAlignment="Center"/>
                <Label Content="实时:" VerticalAlignment="Center"/>
                <Label Content="{Binding View}" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>
        <Border  Grid.Row="0" Grid.Column="1"  BorderBrush="DarkCyan"  BorderThickness="1"/>
        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
            <Label Content="添加元素"  VerticalAlignment="Center" />
            <Button x:Name="Btn_Add_RFID" Content="标签" Click="Btn_Add_RFID_Click"  Margin="10,0" VerticalAlignment="Center"/>
            <Button x:Name="Btn_Add_RouteLine" Content="直线" Click="Btn_Add_RouteLine_Click" Margin="10,0" VerticalAlignment="Center"/>
            <Button x:Name="Btn_Add_RouteForkLine" Content="分叉线" Click="Btn_Add_RouteForkLine_Click" Margin="10,0" VerticalAlignment="Center"/>
        </StackPanel>
        <Button x:Name="Btn_SaveMap" Content="保存地图" Click="Btn_SaveMap_Click"  Margin="4,22,47,1" VerticalAlignment="Center" RenderTransformOrigin="-0.036,0.842" Height="20"/>
        <Button x:Name="Btn_LoadMap" Content="加载地图" Click="Btn_LoadMap_Click"  Margin="4,2,47,23" VerticalAlignment="Center" RenderTransformOrigin="-0.036,0.842" Height="18"/>
    </Grid>
</Window>
